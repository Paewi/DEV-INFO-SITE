<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Config 1900‚Ç¨ ‚Äî Dev&Info</title>
    <meta name="description" content="Configuration PC 1900‚Ç¨ optimis√©e.">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <a class="skip-link" href="#main">Passer au contenu</a>
    <header class="navbar">
        <div class="logo"><a class="nav-title-logo" href="index.html">Dev&Info</a></div>
        <nav class="nav-links">
            <a href="index.html">Accueil</a>
            <a href="prestations.html">Prestations</a>
            <a href="formations.html">Formations</a>
            <a href="boutique.html">Boutique</a>
            <a href="config-pc.html">Config PC</a>
            <a href="fidelite.html">Fid√©lit√©</a>
        </nav>
    </header>

    <main id="main">
        <section class="hero">
            <h1>Config PC ‚Äî 1900‚Ç¨</h1>
        </section>

        <section class="section config-detail">
            <div class="config-header">
                <h2>Les Composants ‚Äî <span id="total-composants">0‚Ç¨</span></h2>
            </div>

            <div class="components-list" id="componentsList">
                <!-- G√©n√©r√© dynamiquement par JS -->
            </div>

            <p style="text-align: center;" class="affiliation-text">Dev&Info fait partie du Programme Partenaires d'Amazon EU, un programme d'affiliation con√ßu pour permettre de recevoir une r√©mun√©ration en cr√©ant des liens vers Amazon.fr. Certains autres liens peuvent aussi √™tre r√©mun√©r√©s.</p>
        </section>
    </main>

    <footer>
        <p>¬© 2025 Dev&Info. Tous droits r√©serv√©s.<br>
        <a class="contact" href="contact.html">Contact</a> - <a class="mentions-legales" href="mentions-legales.html">Mentions L√©gales</a></p>
    </footer>

    <script>
    const THIS_CONFIG = 'config1900';

    function loadAndRenderComponents() {
        const saved = localStorage.getItem(`configPC_${THIS_CONFIG}`);
        let components = [];

        if (saved) {
            components = JSON.parse(saved);
        }

        const container = document.querySelector('.components-list');
        container.innerHTML = '';

        const titles = ['üñ•Ô∏è Processeur', 'üéÆ Carte graphique', 'üîß Carte m√®re', '‚ùÑÔ∏è Refroidissement', 
                       'üíæ RAM', 'üóÑÔ∏è SSD', 'üì¶ Bo√Ætier', 'üîå Alimentation'];

        components.forEach((comp, index) => {
            const html = `
                <a style="text-decoration: none;" target="_blank" href="${comp.url || '#'}">
                    <div class="component">
                        <div class="component-header">
                            <h3>${titles[index] || '‚öôÔ∏è'}</h3>
                        </div>
                        <p class="component-name"><strong>${comp.name}</strong></p>
                        <p class="component-price tarif" data-tarif="${comp.price}" contenteditable="false">${comp.price}‚Ç¨</p>
                    </div>
                </a>
            `;
            container.insertAdjacentHTML('beforeend', html);
        });

        calculerTotal();
        attachTarifListeners();
    }

    function calculerTotal() {
        const tarifs = document.querySelectorAll('.tarif');
        let total = 0;
        tarifs.forEach(tarifElement => {
            const textePrix = tarifElement.textContent.trim().replace('‚Ç¨', '').replace(',', '.');
            const nouveauPrix = parseFloat(textePrix);
            if (!isNaN(nouveauPrix)) {
                tarifElement.setAttribute('data-tarif', nouveauPrix);
                total += nouveauPrix;
            }
        });
        document.getElementById('total-composants').textContent = total.toFixed(0) + '‚Ç¨';
    }

    function attachTarifListeners() {
        const tarifs = document.querySelectorAll('.tarif');
        tarifs.forEach(tarif => {
            tarif.addEventListener('input', calculerTotal);
            tarif.addEventListener('blur', calculerTotal);
        });
    }

    document.addEventListener('DOMContentLoaded', function() {
        loadAndRenderComponents();
    });
    </script>
</body>
</html>
